!function(t,e,i,n){"use strict";function o(e,i,a){var r=this;if(t.data(e,"cubeportfolio"))throw Error("cubeportfolio is already initialized. Destroy it before initialize again!");r.obj=e,r.$obj=t(e),t.data(r.obj,"cubeportfolio",r),i&&i.sortToPreventGaps!==n&&(i.sortByDimension=i.sortToPreventGaps,delete i.sortToPreventGaps),r.options=t.extend({},t.fn.cubeportfolio.options,i,r.$obj.data("cbp-options")),r.isAnimating=!0,r.defaultFilter=r.options.defaultFilter,r.registeredEvents=[],r.queue=[],r.addedWrapp=!1,t.isFunction(a)&&r.registerEvent("initFinish",a,!0);var s=r.$obj.children();r.$obj.addClass("cbp"),(0===s.length||s.first().hasClass("cbp-item"))&&(r.wrapInner(r.obj,"cbp-wrapper"),r.addedWrapp=!0),r.$ul=r.$obj.children().addClass("cbp-wrapper"),r.wrapInner(r.obj,"cbp-wrapper-outer"),r.wrapper=r.$obj.children(".cbp-wrapper-outer"),r.blocks=r.$ul.children(".cbp-item"),r.blocksOn=r.blocks,r.wrapInner(r.blocks,"cbp-item-wrapper"),r.plugins={},t.each(o.plugins,function(t,e){var i=e(r);i&&(r.plugins[t]=i)}),r.triggerEvent("afterPlugins"),r.removeAttrAfterStoreData=t.Deferred(),r.loadImages(r.$obj,r.display)}t.extend(o.prototype,{storeData:function(e,i){var n=this;i=i||0,e.each(function(e,o){var a=t(o),r=a.width(),s=a.height();a.data("cbp",{index:i+e,indexInitial:i+e,wrapper:a.children(".cbp-item-wrapper"),widthInitial:r,heightInitial:s,width:r,height:s,widthAndGap:r+n.options.gapVertical,heightAndGap:s+n.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})}),this.removeAttrAfterStoreData.resolve()},wrapInner:function(t,e){var o,a,r;if(e=e||"",!(t.length&&t.length<1))for(t.length===n&&(t=[t]),a=t.length-1;0<=a;a--){for(o=t[a],(r=i.createElement("div")).setAttribute("class",e);o.childNodes.length;)r.appendChild(o.childNodes[0]);o.appendChild(r)}},removeAttrImage:function(t){this.removeAttrAfterStoreData.then(function(){t.removeAttribute("style")})},loadImages:function(e,i){var n=this;requestAnimationFrame(function(){var o=e.find("img").map(function(e,i){if(i.hasAttribute("width")&&i.hasAttribute("height")){if(i.style.width=i.getAttribute("width")+"px",i.style.height=i.getAttribute("height")+"px",i.hasAttribute("data-cbp-src"))return null;if(null===n.checkSrc(i))n.removeAttrImage(i);else{var o=t("<img>");o.on("load.cbp error.cbp",function(){t(this).off("load.cbp error.cbp"),n.removeAttrImage(i)}),i.srcset?(o.attr("sizes",i.sizes||"100vw"),o.attr("srcset",i.srcset)):o.attr("src",i.src)}return null}return n.checkSrc(i)}),a=o.length;0!==a?t.each(o,function(e,o){var r=t("<img>");r.on("load.cbp error.cbp",function(){t(this).off("load.cbp error.cbp"),0==--a&&i.call(n)}),o.srcset?(r.attr("sizes",o.sizes),r.attr("srcset",o.srcset)):r.attr("src",o.src)}):i.call(n)})},checkSrc:function(e){var i=e.srcset,o=e.src;if(""===o)return null;var a=t("<img>");i?(a.attr("sizes",e.sizes||"100vw"),a.attr("srcset",i)):a.attr("src",o);var r=a[0];return r.complete&&r.naturalWidth!==n&&0!==r.naturalWidth?null:r},display:function(){var t=this;t.width=t.$obj.outerWidth(),t.triggerEvent("initStartRead"),t.triggerEvent("initStartWrite"),0<t.width&&(t.storeData(t.blocks),t.layoutAndAdjustment()),t.triggerEvent("initEndRead"),t.triggerEvent("initEndWrite"),t.$obj.addClass("cbp-ready"),t.runQueue("delayFrame",t.delayFrame)},delayFrame:function(){var t=this;requestAnimationFrame(function(){t.resizeEvent(),t.triggerEvent("initFinish"),t.isAnimating=!1,t.$obj.trigger("initComplete.cbp")})},resizeEvent:function(){var t=this;o.private.resize.initEvent({instance:t,fn:function(){t.triggerEvent("beforeResizeGrid");var e=t.$obj.outerWidth();e&&t.width!==e&&(t.width=e,"alignCenter"===t.options.gridAdjustment&&(t.wrapper[0].style.maxWidth=""),t.layoutAndAdjustment(),t.triggerEvent("resizeGrid")),t.triggerEvent("resizeWindow")}})},gridAdjust:function(){var e=this;"responsive"===e.options.gridAdjustment?e.responsiveLayout():(e.blocks.removeAttr("style"),e.blocks.each(function(i,n){var o=t(n).data("cbp"),a=n.getBoundingClientRect(),r=e.columnWidthTruncate(a.right-a.left),s=Math.round(a.bottom-a.top);o.height=s,o.heightAndGap=s+e.options.gapHorizontal,o.width=r,o.widthAndGap=r+e.options.gapVertical}),e.widthAvailable=e.width+e.options.gapVertical),e.triggerEvent("gridAdjust")},layoutAndAdjustment:function(t){t&&(this.width=this.$obj.outerWidth()),this.gridAdjust(),this.layout()},layout:function(){this.computeBlocks(this.filterConcat(this.defaultFilter)),"slider"===this.options.layoutMode?(this.sliderLayoutReset(),this.sliderLayout()):(this.mosaicLayoutReset(),this.mosaicLayout()),this.blocksOff.addClass("cbp-item-off"),this.blocksOn.removeClass("cbp-item-off").each(function(e,i){var n=t(i).data("cbp");n.left=n.leftNew,n.top=n.topNew,i.style.left=n.left+"px",i.style.top=n.top+"px"}),this.resizeMainContainer()},computeFilter:function(t){this.computeBlocks(t),this.mosaicLayoutReset(),this.mosaicLayout(),this.filterLayout()},filterLayout:function(){this.blocksOff.addClass("cbp-item-off"),this.blocksOn.removeClass("cbp-item-off").each(function(e,i){var n=t(i).data("cbp");n.left=n.leftNew,n.top=n.topNew,i.style.left=n.left+"px",i.style.top=n.top+"px"}),this.resizeMainContainer(),this.filterFinish()},filterFinish:function(){this.isAnimating=!1,this.$obj.trigger("filterComplete.cbp"),this.triggerEvent("filterFinish")},computeBlocks:function(t){var e=this;e.blocksOnInitial=e.blocksOn,e.blocksOn=e.blocks.filter(t),e.blocksOff=e.blocks.not(t),e.triggerEvent("computeBlocksFinish",t)},responsiveLayout:function(){var e=this;e.cols=e[t.isArray(e.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),e.columnWidth=e.columnWidthTruncate((e.width+e.options.gapVertical)/e.cols),e.widthAvailable=e.columnWidth*e.cols,"mosaic"===e.options.layoutMode&&e.getMosaicWidthReference(),e.blocks.each(function(i,n){var o,a=t(n).data("cbp"),r=1;"mosaic"===e.options.layoutMode&&(r=e.getColsMosaic(a.widthInitial)),o=e.columnWidth*r-e.options.gapVertical,n.style.width=o+"px",a.width=o,a.widthAndGap=o+e.options.gapVertical,n.style.height=""});var i=[];e.blocks.each(function(e,n){t.each(t(n).find("img").filter("[width][height]"),function(e,n){var o=0;t(n).parentsUntil(".cbp-item").each(function(e,i){var n=t(i).width();if(0<n)return o=n,!1});var a=parseInt(n.getAttribute("width"),10),r=parseInt(n.getAttribute("height"),10),s=parseFloat((a/r).toFixed(10));i.push({el:n,width:o,height:Math.round(o/s)})})}),t.each(i,function(t,e){e.el.width=e.width,e.el.height=e.height,e.el.style.width=e.width+"px",e.el.style.height=e.height+"px"}),e.blocks.each(function(i,n){var o=t(n).data("cbp"),a=n.getBoundingClientRect(),r=Math.round(a.bottom-a.top);o.height=r,o.heightAndGap=r+e.options.gapHorizontal})},getMosaicWidthReference:function(){var e=[];this.blocks.each(function(i,n){var o=t(n).data("cbp");e.push(o.widthInitial)}),e.sort(function(t,e){return t-e}),e[0]?this.mosaicWidthReference=e[0]:this.mosaicWidthReference=this.columnWidth},getColsMosaic:function(t){if(this.mosaicWidthReference,2==this.cols&&30==this.options.gapVertical){var e=0;return 470==this.mosaicWidthReference&&(e=600),370==this.mosaicWidthReference&&(e=450),(t+this.options.gapVertical-1)/e}if(t===this.width)return this.cols;var i=t/this.mosaicWidthReference;return Math.min(Math.max(i=.79<=i%1?Math.ceil(i):Math.floor(i),1),this.cols)},getColumnsAuto:function(){if(0===this.blocks.length)return 1;var t=this.blocks.first().data("cbp").widthInitial+this.options.gapVertical;return Math.max(Math.round(this.width/t),1)},getColumnsBreakpoints:function(){var e,i=this.width;return t.each(this.options.mediaQueries,function(t,n){if(i>=n.width)return e=n,!1}),e||(e=this.options.mediaQueries[this.options.mediaQueries.length-1]),this.triggerEvent("onMediaQueries",e.options),e.cols},columnWidthTruncate:function(t){return Math.floor(t)},resizeMainContainer:function(){var e,i=this,a=Math.max(i.freeSpaces.slice(-1)[0].topStart-i.options.gapHorizontal,0);"alignCenter"===i.options.gridAdjustment&&(e=0,i.blocksOn.each(function(i,n){var o=t(n).data("cbp"),a=o.left+o.width;e<a&&(e=a)}),i.wrapper[0].style.maxWidth=e+"px"),a!==i.height&&(i.obj.style.height=a+"px",i.height!==n&&(o.private.modernBrowser?i.$obj.one(o.private.transitionend,function(){i.$obj.trigger("pluginResize.cbp")}):i.$obj.trigger("pluginResize.cbp")),i.height=a),i.triggerEvent("resizeMainContainer")},filterConcat:function(t){return t.replace(/\|/gi,"")},pushQueue:function(t,e){this.queue[t]=this.queue[t]||[],this.queue[t].push(e)},runQueue:function(e,i){var n=this.queue[e]||[];t.when.apply(t,n).then(t.proxy(i,this))},clearQueue:function(t){this.queue[t]=[]},registerEvent:function(t,e,i){this.registeredEvents[t]||(this.registeredEvents[t]=[]),this.registeredEvents[t].push({func:e,oneTime:i||!1})},triggerEvent:function(t,e){var i,n;if(this.registeredEvents[t])for(i=0,n=this.registeredEvents[t].length;i<n;i++)this.registeredEvents[t][i].func.call(this,e),this.registeredEvents[t][i].oneTime&&(this.registeredEvents[t].splice(i,1),i--,n--)},addItems:function(e,i,n){var a=this;a.wrapInner(e,"cbp-item-wrapper"),a.$ul[n](e.addClass("cbp-item-loading").css({top:"100%",left:0})),o.private.modernBrowser?e.last().one(o.private.animationend,function(){a.addItemsFinish(e,i)}):a.addItemsFinish(e,i),a.loadImages(e,function(){if(a.$obj.addClass("cbp-updateItems"),"append"===n)a.storeData(e,a.blocks.length),t.merge(a.blocks,e);else{a.storeData(e);var i=e.length;a.blocks.each(function(e,n){t(n).data("cbp").index=i+e}),a.blocks=t.merge(e,a.blocks)}a.triggerEvent("addItemsToDOM",e),a.triggerEvent("triggerSort"),a.layoutAndAdjustment(!0),a.elems&&o.public.showCounter.call(a.obj,a.elems)})},addItemsFinish:function(e,i){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),e.removeClass("cbp-item-loading"),t.isFunction(i)&&i.call(this,e),this.$obj.trigger("onAfterLoadMore.cbp",[e])},removeItems:function(e,i){var n=this;n.$obj.addClass("cbp-updateItems"),o.private.modernBrowser?e.last().one(o.private.animationend,function(){n.removeItemsFinish(e,i)}):n.removeItemsFinish(e,i),e.each(function(e,i){n.blocks.each(function(e,a){if(i===a){var r=t(a);n.blocks.splice(e,1),o.private.modernBrowser?(r.one(o.private.animationend,function(){r.remove()}),r.addClass("cbp-removeItem")):r.remove()}})}),n.blocks.each(function(e,i){t(i).data("cbp").index=e}),n.triggerEvent("triggerSort"),n.layoutAndAdjustment(!0),n.elems&&o.public.showCounter.call(n.obj,n.elems)},removeItemsFinish:function(e,i){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),t.isFunction(i)&&i.call(this,e)}}),t.fn.cubeportfolio=function(t,e,i){return this.each(function(){if("object"==typeof t||!t)return o.public.init.call(this,t,e);if(o.public[t])return o.public[t].call(this,e,i);throw Error("Method "+t+" does not exist on jquery.cubeportfolio.js")})},o.plugins={},t.fn.cubeportfolio.constructor=o}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;t.extend(o.prototype,{mosaicLayoutReset:function(){var e=this;e.blocksAreSorted=!1,e.blocksOn.each(function(i,n){t(n).data("cbp").pack=!1,e.options.sortByDimension&&(n.style.height="")}),e.freeSpaces=[{leftStart:0,leftEnd:e.widthAvailable,topStart:0,topEnd:262144}]},mosaicLayout:function(){for(var t=this,e=0,i=t.blocksOn.length;e<i;e++){var n=t.getSpaceIndexAndBlock();if(null===n)return t.mosaicLayoutReset(),t.blocksAreSorted=!0,t.sortBlocks(t.blocksOn,"widthAndGap","heightAndGap",!0),void t.mosaicLayout();t.generateF1F2(n.spaceIndex,n.dataBlock),t.generateG1G2G3G4(n.dataBlock),t.cleanFreeSpaces(),t.addHeightToBlocks()}t.blocksAreSorted&&t.sortBlocks(t.blocksOn,"topNew","leftNew")},getSpaceIndexAndBlock:function(){var e=this,i=null;return t.each(e.freeSpaces,function(n,o){var a=o.leftEnd-o.leftStart,r=o.topEnd-o.topStart;return e.blocksOn.each(function(e,s){var l=t(s).data("cbp");if(!0!==l.pack)return l.widthAndGap<=a&&l.heightAndGap<=r?(l.pack=!0,i={spaceIndex:n,dataBlock:l},l.leftNew=o.leftStart,l.topNew=o.topStart,!1):void 0}),!e.blocksAreSorted&&e.options.sortByDimension&&0<n?(i=null,!1):null===i&&void 0}),i},generateF1F2:function(t,e){var i=this.freeSpaces[t],n={leftStart:i.leftStart+e.widthAndGap,leftEnd:i.leftEnd,topStart:i.topStart,topEnd:i.topEnd},o={leftStart:i.leftStart,leftEnd:i.leftEnd,topStart:i.topStart+e.heightAndGap,topEnd:i.topEnd};this.freeSpaces.splice(t,1),n.leftStart<n.leftEnd&&n.topStart<n.topEnd&&(this.freeSpaces.splice(t,0,n),t++),o.leftStart<o.leftEnd&&o.topStart<o.topEnd&&this.freeSpaces.splice(t,0,o)},generateG1G2G3G4:function(e){var i=this,n=[];t.each(i.freeSpaces,function(t,o){var a=i.intersectSpaces(o,e);null!==a?(i.generateG1(o,a,n),i.generateG2(o,a,n),i.generateG3(o,a,n),i.generateG4(o,a,n)):n.push(o)}),i.freeSpaces=n},intersectSpaces:function(t,e){var i={leftStart:e.leftNew,leftEnd:e.leftNew+e.widthAndGap,topStart:e.topNew,topEnd:e.topNew+e.heightAndGap};if(t.leftStart===i.leftStart&&t.leftEnd===i.leftEnd&&t.topStart===i.topStart&&t.topEnd===i.topEnd)return null;var n=Math.max(t.leftStart,i.leftStart),o=Math.min(t.leftEnd,i.leftEnd),a=Math.max(t.topStart,i.topStart),r=Math.min(t.topEnd,i.topEnd);return o<=n||r<=a?null:{leftStart:n,leftEnd:o,topStart:a,topEnd:r}},generateG1:function(t,e,i){t.topStart!==e.topStart&&i.push({leftStart:t.leftStart,leftEnd:t.leftEnd,topStart:t.topStart,topEnd:e.topStart})},generateG2:function(t,e,i){t.leftEnd!==e.leftEnd&&i.push({leftStart:e.leftEnd,leftEnd:t.leftEnd,topStart:t.topStart,topEnd:t.topEnd})},generateG3:function(t,e,i){t.topEnd!==e.topEnd&&i.push({leftStart:t.leftStart,leftEnd:t.leftEnd,topStart:e.topEnd,topEnd:t.topEnd})},generateG4:function(t,e,i){t.leftStart!==e.leftStart&&i.push({leftStart:t.leftStart,leftEnd:e.leftStart,topStart:t.topStart,topEnd:t.topEnd})},cleanFreeSpaces:function(){this.freeSpaces.sort(function(t,e){return t.topStart>e.topStart?1:t.topStart<e.topStart?-1:t.leftStart>e.leftStart?1:t.leftStart<e.leftStart?-1:0}),this.correctSubPixelValues(),this.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){var t,e,i,n;for(t=0,e=this.freeSpaces.length-1;t<e;t++)i=this.freeSpaces[t],(n=this.freeSpaces[t+1]).topStart-i.topStart<=1&&(n.topStart=i.topStart)},removeNonMaximalFreeSpaces:function(){var e=this;e.uniqueFreeSpaces(),e.freeSpaces=t.map(e.freeSpaces,function(i,n){return t.each(e.freeSpaces,function(t,e){if(n!==t)return e.leftStart<=i.leftStart&&e.leftEnd>=i.leftEnd&&e.topStart<=i.topStart&&e.topEnd>=i.topEnd?(i=null,!1):void 0}),i})},uniqueFreeSpaces:function(){var e=[];t.each(this.freeSpaces,function(i,n){t.each(e,function(t,e){if(e.leftStart===n.leftStart&&e.leftEnd===n.leftEnd&&e.topStart===n.topStart&&e.topEnd===n.topEnd)return n=null,!1}),null!==n&&e.push(n)}),this.freeSpaces=e},addHeightToBlocks:function(){var e=this;t.each(e.freeSpaces,function(i,n){e.blocksOn.each(function(i,o){var a=t(o).data("cbp");!0===a.pack&&e.intersectSpaces(n,a)&&-1==n.topStart-a.topNew-a.heightAndGap&&(o.style.height=a.height-1+"px")})})},sortBlocks:function(e,i,n,o){n=void 0===n?"leftNew":n,o=void 0===o?1:-1,e.sort(function(e,a){var r=t(e).data("cbp"),s=t(a).data("cbp");return r[i]>s[i]?o:r[i]<s[i]?-o:r[n]>s[n]?o:r[n]<s[n]?-o:r.index>s.index?o:r.index<s.index?-o:void 0})}})}(jQuery,window,document),jQuery.fn.cubeportfolio.options={filters:"",search:"",layoutMode:"grid",sortByDimension:!1,drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:null,singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:null,plugins:{}},function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor,a=t(e);o.private={publicEvents:function(e,i,n){var o=this;o.events=[],o.initEvent=function(t){0===o.events.length&&o.scrollEvent(),o.events.push(t)},o.destroyEvent=function(i){o.events=t.map(o.events,function(t,e){if(t.instance!==i)return t}),0===o.events.length&&a.off(e)},o.scrollEvent=function(){var r;a.on(e,function(){clearTimeout(r),r=setTimeout(function(){t.isFunction(n)&&n.call(o)||t.each(o.events,function(t,e){e.fn.call(e.instance)})},i)})}},checkInstance:function(e){var i=t.data(this,"cubeportfolio");if(!i)throw Error("cubeportfolio is not initialized. Initialize it before calling "+e+" method!");return i.triggerEvent("publicMethod"),i},browserInfo:function(){var t,i,n=o.private,a=navigator.appVersion;-1!==a.indexOf("MSIE 8.")?n.browser="ie8":-1!==a.indexOf("MSIE 9.")?n.browser="ie9":-1!==a.indexOf("MSIE 10.")?n.browser="ie10":e.ActiveXObject||"ActiveXObject"in e?n.browser="ie11":/android/gi.test(a)?n.browser="android":/iphone|ipad|ipod/gi.test(a)?n.browser="ios":/chrome/gi.test(a)?n.browser="chrome":n.browser="",n.styleSupport("perspective"),t=n.styleSupport("transition"),n.transitionend=({WebkitTransition:"webkitTransitionEnd",transition:"transitionend"})[t],i=n.styleSupport("animation"),n.animationend=({WebkitAnimation:"webkitAnimationEnd",animation:"animationend"})[i],n.animationDuration=({WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"})[i],n.animationDelay=({WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"})[i],n.transform=n.styleSupport("transform"),t&&i&&n.transform&&(n.modernBrowser=!0)},styleSupport:function(t){var e,n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1),o=i.createElement("div");return t in o.style?e=t:n in o.style&&(e=n),o=null,e}},o.private.browserInfo(),o.private.resize=new o.private.publicEvents("resize.cbp",50,function(){if(e.innerHeight==screen.height)return!0})}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;o.public={init:function(t,e){new o(this,t,e)},destroy:function(e){var i=o.private.checkInstance.call(this,"destroy");i.triggerEvent("beforeDestroy"),t.removeData(this,"cubeportfolio"),i.blocks.removeData("cbp"),i.$obj.removeClass("cbp-ready").removeAttr("style"),i.$ul.removeClass("cbp-wrapper"),o.private.resize.destroyEvent(i),i.$obj.off(".cbp"),i.blocks.removeClass("cbp-item-off").removeAttr("style"),i.blocks.find(".cbp-item-wrapper").each(function(e,i){var n=t(i),o=n.children();o.length?o.unwrap():n.remove()}),i.destroySlider&&i.destroySlider(),i.$ul.unwrap(),i.addedWrapp&&i.blocks.unwrap(),0===i.blocks.length&&i.$ul.remove(),t.each(i.plugins,function(t,e){"function"==typeof e.destroy&&e.destroy()}),t.isFunction(e)&&e.call(i),i.triggerEvent("afterDestroy")},filter:function(e,i){var n,a=o.private.checkInstance.call(this,"filter");if(!a.isAnimating){if(a.isAnimating=!0,t.isFunction(i)&&a.registerEvent("filterFinish",i,!0),t.isFunction(e)){if(void 0===(n=e.call(a,a.blocks)))throw Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}else{if(a.options.filterDeeplinking){var r=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,"");location.href=r+"#cbpf="+encodeURIComponent(e),a.singlePage&&a.singlePage.url&&(a.singlePage.url=location.href)}a.defaultFilter=e,n=a.filterConcat(a.defaultFilter)}a.triggerEvent("filterStart",n),a.singlePageInline&&a.singlePageInline.isOpen?a.singlePageInline.close("promise",{callback:function(){a.computeFilter(n)}}):a.computeFilter(n)}},showCounter:function(e,i){var n=o.private.checkInstance.call(this,"showCounter");t.isFunction(i)&&n.registerEvent("showCounterFinish",i,!0),(n.elems=e).each(function(){var e=t(this),i=n.blocks.filter(e.data("filter")).length;e.find(".cbp-filter-counter").text(i)}),n.triggerEvent("showCounterFinish",e)},appendItems:function(t,e){o.public.append.call(this,t,e)},append:function(e,i){var n=o.private.checkInstance.call(this,"append"),a=t(e).filter(".cbp-item");n.isAnimating||a.length<1?t.isFunction(i)&&i.call(n,a):(n.isAnimating=!0,n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.addItems(a,i,"append")}}):n.addItems(a,i,"append"))},prepend:function(e,i){var n=o.private.checkInstance.call(this,"prepend"),a=t(e).filter(".cbp-item");n.isAnimating||a.length<1?t.isFunction(i)&&i.call(n,a):(n.isAnimating=!0,n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.addItems(a,i,"prepend")}}):n.addItems(a,i,"prepend"))},remove:function(e,i){var n=o.private.checkInstance.call(this,"remove"),a=t(e).filter(".cbp-item");n.isAnimating||a.length<1?t.isFunction(i)&&i.call(n,a):(n.isAnimating=!0,n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.removeItems(a,i)}}):n.removeItems(a,i))},layout:function(e){var i=o.private.checkInstance.call(this,"layout");i.width=i.$obj.outerWidth(),i.isAnimating||i.width<=0||("alignCenter"===i.options.gridAdjustment&&(i.wrapper[0].style.maxWidth=""),i.storeData(i.blocks),i.layoutAndAdjustment()),t.isFunction(e)&&e.call(i)}}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;t.extend(o.prototype,{updateSliderPagination:function(){var e,i,n=this;if(n.options.showPagination){for(e=Math.ceil(n.blocksOn.length/n.cols),n.navPagination.empty(),i=e-1;0<=i;i--)t("<div/>",{class:"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(n.navPagination);n.navPaginationItems=n.navPagination.children()}n.enableDisableNavSlider()},destroySlider:function(){"slider"===this.options.layoutMode&&(this.$obj.removeClass("cbp-mode-slider"),this.$ul.removeAttr("style"),this.$ul.off(".cbp"),t(i).off(".cbp"),this.options.auto&&this.stopSliderAuto())},nextSlider:function(t){var e=this;if(e.isEndSlider()){if(!e.isRewindNav())return;e.sliderActive=0}else e.options.scrollByPage?e.sliderActive=Math.min(e.sliderActive+e.cols,e.blocksOn.length-e.cols):e.sliderActive+=1;e.goToSlider()},prevSlider:function(t){var e=this;if(e.isStartSlider()){if(!e.isRewindNav())return;e.sliderActive=e.blocksOn.length-e.cols}else e.options.scrollByPage?e.sliderActive=Math.max(0,e.sliderActive-e.cols):e.sliderActive-=1;e.goToSlider()},jumpToSlider:function(t){var e=this,i=Math.min(t.index()*e.cols,e.blocksOn.length-e.cols);i!==e.sliderActive&&(e.sliderActive=i,e.goToSlider())},jumpDragToSlider:function(t){var e,i,n,o=this,a=0<t;o.options.scrollByPage?(e=o.cols*o.columnWidth,i=o.cols):(e=o.columnWidth,i=1),n=Math.floor((t=Math.abs(t))/e)*i,20<t%e&&(n+=i),o.sliderActive=a?Math.min(o.sliderActive+n,o.blocksOn.length-o.cols):Math.max(0,o.sliderActive-n),o.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){return this.sliderActive+this.cols>this.blocksOn.length-1},goToSlider:function(){this.enableDisableNavSlider(),this.updateSliderPosition()},startSliderAuto:function(){var t=this;t.isDrag?t.stopSliderAuto():t.timeout=setTimeout(function(){t.nextSlider(),t.startSliderAuto()},t.options.autoTimeout)},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var t,e;this.isRewindNav()||(e=this.isStartSlider()?"addClass":"removeClass",this.navPrev[e]("cbp-nav-stop"),e=this.isEndSlider()?"addClass":"removeClass",this.navNext[e]("cbp-nav-stop")),this.options.showPagination&&(t=this.options.scrollByPage?Math.ceil(this.sliderActive/this.cols):this.isEndSlider()?this.navPaginationItems.length-1:Math.floor(this.sliderActive/this.cols),this.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(t).addClass("cbp-nav-pagination-active")),this.customPagination&&(t=this.options.scrollByPage?Math.ceil(this.sliderActive/this.cols):this.isEndSlider()?this.customPaginationItems.length-1:Math.floor(this.sliderActive/this.cols),this.customPaginationItems.removeClass(this.customPaginationClass).eq(t).addClass(this.customPaginationClass))},isRewindNav:function(){return!this.options.showNavigation||!(this.blocksOn.length<=this.cols)&&!!this.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var e=this;e.blocksOn.each(function(i,n){var o=t(n).data("cbp");o.leftNew=e.columnWidth*i,o.topNew=0,e.sliderFreeSpaces.push({topStart:o.heightAndGap})}),e.getFreeSpacesForSlider(),e.$ul.width(e.columnWidth*e.blocksOn.length-e.options.gapVertical)},getFreeSpacesForSlider:function(){var t=this;t.freeSpaces=t.sliderFreeSpaces.slice(t.sliderActive,t.sliderActive+t.cols),t.freeSpaces.sort(function(t,e){return t.topStart>e.topStart?1:t.topStart<e.topStart?-1:void 0})},updateSliderPosition:function(){var t=this,e=-t.sliderActive*t.columnWidth;o.private.modernBrowser?t.$ul[0].style[o.private.transform]="translate3d("+e+"px, 0px, 0)":t.$ul[0].style.left=e+"px",t.getFreeSpacesForSlider(),t.resizeMainContainer()},dragSlider:function(){var n,a,r,s,l,p=this,c=t(i),u=!1,d={},f=!1;function h(t){p.$obj.removeClass("cbp-mode-slider-dragStart"),u=!0,0!==a?(r.one("click.cbp",function(t){return!1}),requestAnimationFrame(function(){p.jumpDragToSlider(a),p.$ul.one(o.private.transitionend,b)})):b.call(p),c.off(d.move),c.off(d.end)}function g(t){(8<(a=n-v(t).x)||a<-8)&&t.preventDefault(),p.isDrag=!0;var e=s-a;a<0&&a<s?e=(s-a)/5:0<a&&s-a<-l&&(e=(l+s-a)/5-l),o.private.modernBrowser?p.$ul[0].style[o.private.transform]="translate3d("+e+"px, 0px, 0)":p.$ul[0].style.left=e+"px"}function b(){u=!1,p.isDrag=!1,p.options.auto&&(p.mouseIsEntered||p.startSliderAuto())}function v(t){return void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(t=t.originalEvent.touches[0]),{x:t.pageX,y:t.pageY}}p.isDrag=!1,"ontouchstart"in e||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?(d={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},f=!0):d={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},p.$ul.on(d.start,function(e){p.sliderItemsLength()||(f||e.preventDefault(),p.options.auto&&p.stopSliderAuto(),u?t(r).one("click.cbp",function(){return!1}):(r=t(e.target),n=v(e).x,a=0,s=-p.sliderActive*p.columnWidth,l=p.columnWidth*(p.blocksOn.length-p.cols),c.on(d.move,g),c.on(d.end,h),p.$obj.addClass("cbp-mode-slider-dragStart")))})},sliderLayoutReset:function(){this.freeSpaces=[],this.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(){for(var t=0,e=["moz","webkit"],i=0;i<e.length&&!window.requestAnimationFrame;i++)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=new Date().getTime(),o=Math.max(0,16-(n-t)),a=window.setTimeout(function(){e(n+o)},o);return t=n+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(t){(this.parent=t).filterLayout=this.filterLayout,t.registerEvent("computeBlocksFinish",function(e){t.blocksOn2On=t.blocksOnInitial.filter(e),t.blocksOn2Off=t.blocksOnInitial.not(e)})}a.prototype.filterLayout=function(){var e=this;function i(){e.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(e,i){var n=t(i).data("cbp");n.left=n.leftNew,n.top=n.topNew,i.style.left=n.left+"px",i.style.top=n.top+"px",i.style[o.private.transform]=""}),e.blocksOff.addClass("cbp-item-off"),e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.filterFinish()}e.$obj.addClass("cbp-animation-"+e.options.animationType),e.blocksOn2On.addClass("cbp-item-on2on").each(function(e,i){var n=t(i).data("cbp");i.style[o.private.transform]="translate3d("+(n.leftNew-n.left)+"px, "+(n.topNew-n.top)+"px, 0)"}),e.blocksOn2Off.addClass("cbp-item-on2off"),e.blocksOff2On=e.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(e,i){var n=t(i).data("cbp");i.style.left=n.leftNew+"px",i.style.top=n.topNew+"px"}),e.blocksOn2Off.length?e.blocksOn2Off.last().data("cbp").wrapper.one(o.private.animationend,i):e.blocksOff2On.length?e.blocksOff2On.last().data("cbp").wrapper.one(o.private.animationend,i):e.blocksOn2On.length?e.blocksOn2On.last().one(o.private.transitionend,i):i(),e.resizeMainContainer()},a.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},o.plugins.animationClassic=function(e){return!o.private.modernBrowser||0>t.inArray(e.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])?null:new a(e)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(t){(this.parent=t).filterLayout=this.filterLayout}a.prototype.filterLayout=function(){var e=this,i=e.$ul[0].cloneNode(!0);function n(){e.wrapper[0].removeChild(i),"sequentially"===e.options.animationType&&e.blocksOn.each(function(e,i){t(i).data("cbp").wrapper[0].style[o.private.animationDelay]=""}),e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.filterFinish()}i.setAttribute("class","cbp-wrapper-helper"),e.wrapper[0].insertBefore(i,e.$ul[0]),requestAnimationFrame(function(){e.$obj.addClass("cbp-animation-"+e.options.animationType),e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(i,n){var a=t(n).data("cbp");a.left=a.leftNew,a.top=a.topNew,n.style.left=a.left+"px",n.style.top=a.top+"px","sequentially"===e.options.animationType&&(a.wrapper[0].style[o.private.animationDelay]=60*i+"ms")}),e.blocksOn.length?e.blocksOn.last().data("cbp").wrapper.one(o.private.animationend,n):e.blocksOnInitial.length?e.blocksOnInitial.last().data("cbp").wrapper.one(o.private.animationend,n):n(),e.resizeMainContainer()})},a.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},o.plugins.animationClone=function(e){return!o.private.modernBrowser||0>t.inArray(e.options.animationType,["fadeOutTop","slideLeft","sequentially"])?null:new a(e)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(t){(this.parent=t).filterLayout=this.filterLayout}a.prototype.filterLayout=function(){var e=this,i=e.$ul.clone(!0,!0);i[0].setAttribute("class","cbp-wrapper-helper"),e.wrapper[0].insertBefore(i[0],e.$ul[0]);var n=i.find(".cbp-item").not(".cbp-item-off");function a(){e.wrapper[0].removeChild(i[0]),e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.blocks.each(function(e,i){t(i).data("cbp").wrapper[0].style[o.private.animationDelay]=""}),e.filterFinish()}e.blocksAreSorted&&e.sortBlocks(n,"top","left"),n.children(".cbp-item-wrapper").each(function(t,e){e.style[o.private.animationDelay]=50*t+"ms"}),requestAnimationFrame(function(){e.$obj.addClass("cbp-animation-"+e.options.animationType),e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(e,i){var n=t(i).data("cbp");n.left=n.leftNew,n.top=n.topNew,i.style.left=n.left+"px",i.style.top=n.top+"px",n.wrapper[0].style[o.private.animationDelay]=50*e+"ms"});var i=e.blocksOn.length,r=n.length;0===i&&0===r?a():i<r?n.last().children(".cbp-item-wrapper").one(o.private.animationend,a):e.blocksOn.last().data("cbp").wrapper.one(o.private.animationend,a),e.resizeMainContainer()})},a.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},o.plugins.animationCloneDelay=function(e){return!o.private.modernBrowser||0>t.inArray(e.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])?null:new a(e)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(t){(this.parent=t).filterLayout=this.filterLayout}a.prototype.filterLayout=function(){var e=this,i=e.$ul[0].cloneNode(!0);function n(){e.wrapper[0].removeChild(i),e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.filterFinish()}i.setAttribute("class","cbp-wrapper-helper"),e.wrapper[0].insertBefore(i,e.$ul[0]),requestAnimationFrame(function(){e.$obj.addClass("cbp-animation-"+e.options.animationType),e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(e,i){var n=t(i).data("cbp");n.left=n.leftNew,n.top=n.topNew,i.style.left=n.left+"px",i.style.top=n.top+"px"}),e.blocksOn.length?e.$ul.one(o.private.animationend,n):e.blocksOnInitial.length?t(i).one(o.private.animationend,n):n(),e.resizeMainContainer()})},a.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},o.plugins.animationWrapper=function(e){return!o.private.modernBrowser||0>t.inArray(e.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])?null:new a(e)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(t){var e=this,i=t.options;e.parent=t,e.captionOn=i.caption,t.registerEvent("onMediaQueries",function(t){t&&t.hasOwnProperty("caption")?e.captionOn!==t.caption&&(e.destroy(),e.captionOn=t.caption,e.init()):e.captionOn!==i.caption&&(e.destroy(),e.captionOn=i.caption,e.init())}),e.init()}a.prototype.init=function(){var t=this;""!=t.captionOn&&("expand"===t.captionOn||o.private.modernBrowser||(t.parent.options.caption=t.captionOn="minimal"),t.parent.$obj.addClass("cbp-caption-active cbp-caption-"+t.captionOn))},a.prototype.destroy=function(){this.parent.$obj.removeClass("cbp-caption-active cbp-caption-"+this.captionOn)},o.plugins.caption=function(t){return new a(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(e){(this.parent=e).registerEvent("initFinish",function(){e.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(i){if(i.preventDefault(),!e.isAnimating){e.isAnimating=!0;var n=t(this),o=n.next(),a=n.parent(),r={position:"relative",height:o.outerHeight(!0)},s={position:"relative",height:0};if(e.$obj.addClass("cbp-caption-expand-active"),a.hasClass("cbp-caption-expand-open")){var l=s;s=r,r=l,a.removeClass("cbp-caption-expand-open")}o.css(r),e.$obj.one("pluginResize.cbp",function(){e.isAnimating=!1,e.$obj.removeClass("cbp-caption-expand-active"),0===r.height&&(a.removeClass("cbp-caption-expand-open"),o.attr("style",""))}),e.layoutAndAdjustment(!0),o.css(s),requestAnimationFrame(function(){a.addClass("cbp-caption-expand-open"),o.css(r),e.triggerEvent("gridAdjust"),e.triggerEvent("resizeGrid")})}})},!0)}a.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},o.plugins.captionExpand=function(t){return"expand"!==t.options.caption?null:new a(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(e){e.registerEvent("initEndWrite",function(){if(!(e.width<=0)){var i=t.Deferred();e.pushQueue("delayFrame",i),e.blocksOn.each(function(t,i){i.style[o.private.animationDelay]=t*e.options.displayTypeSpeed+"ms"}),e.$obj.addClass("cbp-displayType-bottomToTop"),e.blocksOn.last().one(o.private.animationend,function(){e.$obj.removeClass("cbp-displayType-bottomToTop"),e.blocksOn.each(function(t,e){e.style[o.private.animationDelay]=""}),i.resolve()})}},!0)}o.plugins.displayBottomToTop=function(t){return o.private.modernBrowser&&"bottomToTop"===t.options.displayType&&0!==t.blocksOn.length?new a(t):null}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(e){e.registerEvent("initEndWrite",function(){if(!(e.width<=0)){var i=t.Deferred();e.pushQueue("delayFrame",i),e.obj.style[o.private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeIn"),e.$obj.one(o.private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeIn"),e.obj.style[o.private.animationDuration]="",i.resolve()})}},!0)}o.plugins.displayFadeIn=function(t){return o.private.modernBrowser&&("lazyLoading"===t.options.displayType||"fadeIn"===t.options.displayType)&&0!==t.blocksOn.length?new a(t):null}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(e){e.registerEvent("initEndWrite",function(){if(!(e.width<=0)){var i=t.Deferred();e.pushQueue("delayFrame",i),e.obj.style[o.private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeInToTop"),e.$obj.one(o.private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeInToTop"),e.obj.style[o.private.animationDuration]="",i.resolve()})}},!0)}o.plugins.displayFadeInToTop=function(t){return o.private.modernBrowser&&"fadeInToTop"===t.options.displayType&&0!==t.blocksOn.length?new a(t):null}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(e){e.registerEvent("initEndWrite",function(){if(!(e.width<=0)){var i=t.Deferred();e.pushQueue("delayFrame",i),e.blocksOn.each(function(t,i){i.style[o.private.animationDelay]=t*e.options.displayTypeSpeed+"ms"}),e.$obj.addClass("cbp-displayType-sequentially"),e.blocksOn.last().one(o.private.animationend,function(){e.$obj.removeClass("cbp-displayType-sequentially"),e.blocksOn.each(function(t,e){e.style[o.private.animationDelay]=""}),i.resolve()})}},!0)}o.plugins.displaySequentially=function(t){return o.private.modernBrowser&&"sequentially"===t.options.displayType&&0!==t.blocksOn.length?new a(t):null}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(e){var i=this;i.parent=e,i.filters=t(e.options.filters),i.filterData=[],e.registerEvent("afterPlugins",function(t){i.filterFromUrl(),i.registerFilter()}),e.registerEvent("resetFiltersVisual",function(){var n=e.options.defaultFilter.split("|");i.filters.each(function(e,i){var o=t(i).find(".cbp-filter-item");o.removeClass("cbp-filter-item-active"),t.each(n,function(t,e){var i=o.filter('[data-filter="'+e+'"]');if(i.length)return i.addClass("cbp-filter-item-active"),n.splice(t,1),!1})}),e.defaultFilter=e.options.defaultFilter})}a.prototype.registerFilter=function(){var e=this,i=e.parent,n=i.defaultFilter.split("|");e.wrap=e.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){t(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){t(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),e.filters.each(function(o,a){var r=t(a),s="*",l=r.find(".cbp-filter-item"),p={};r.hasClass("cbp-l-filters-dropdown")&&(p.wrap=r.find(".cbp-l-filters-dropdownWrap"),p.header=r.find(".cbp-l-filters-dropdownHeader"),p.headerText=p.header.text()),i.$obj.cubeportfolio("showCounter",l),t.each(n,function(t,e){if(l.filter('[data-filter="'+e+'"]').length)return s=e,n.splice(t,1),!1}),t.data(a,"filterName",s),e.filterData.push(a),e.filtersCallback(p,l.filter('[data-filter="'+s+'"]'),l);var c=a.getAttribute("data-filter-parent");c&&(r.removeClass("cbp-l-subfilters--active"),c===e.parent.defaultFilter&&r.addClass("cbp-l-subfilters--active")),l.on("click.cbp",function(){var n=t(this);if(!n.hasClass("cbp-filter-item-active")&&!i.isAnimating){e.filtersCallback(p,n,l),t.data(a,"filterName",n.data("filter"));var o=t.map(e.filterData,function(i,n){var o=t(i),a=i.getAttribute("data-filter-parent");a&&(a===t.data(e.filterData[0],"filterName")?o.addClass("cbp-l-subfilters--active"):(o.removeClass("cbp-l-subfilters--active"),t.data(i,"filterName","*"),o.find(".cbp-filter-item").removeClass("cbp-filter-item-active")));var r=t.data(i,"filterName");return""!==r&&"*"!==r?r:null});o.length<1&&(o=["*"]);var r=o.join("|");i.defaultFilter!==r&&i.$obj.cubeportfolio("filter",r)}})})},a.prototype.filtersCallback=function(e,i,n){t.isEmptyObject(e)||(e.wrap.trigger("mouseleave.cbp"),e.headerText?e.headerText="":e.header.html(i.html())),n.removeClass("cbp-filter-item-active"),i.addClass("cbp-filter-item-active")},a.prototype.filterFromUrl=function(){var t=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==t&&(this.parent.defaultFilter=decodeURIComponent(t[1]))},a.prototype.destroy=function(){this.filters.find(".cbp-filter-item").off(".cbp"),this.wrap.off(".cbp")},o.plugins.filters=function(t){return""===t.options.filters?null:new a(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";function o(e){var i=e.options.gapVertical,n=e.options.gapHorizontal;e.registerEvent("onMediaQueries",function(o){e.options.gapVertical=o&&o.hasOwnProperty("gapVertical")?o.gapVertical:i,e.options.gapHorizontal=o&&o.hasOwnProperty("gapHorizontal")?o.gapHorizontal:n,e.blocks.each(function(i,n){var o=t(n).data("cbp");o.widthAndGap=o.width+e.options.gapVertical,o.heightAndGap=o.height+e.options.gapHorizontal})})}t.fn.cubeportfolio.constructor.plugins.changeGapOnMediaQueries=function(t){return new o(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o={},a=t.fn.cubeportfolio.constructor;function r(e){var i=this;i.parent=e,i.options=t.extend({},o,i.parent.options.plugins.inlineSlider),i.runInit(),e.registerEvent("addItemsToDOM",function(){i.runInit()})}function s(t){var e=this;t.hasClass("cbp-slider-inline-ready")||(t.addClass("cbp-slider-inline-ready"),e.items=t.find(".cbp-slider-wrapper").children(".cbp-slider-item"),e.active=e.items.filter(".cbp-slider-item--active").index(),e.total=e.items.length-1,e.updateLeft(),t.find(".cbp-slider-next").on("click.cbp",function(t){t.preventDefault(),e.active<e.total?(e.active++,e.updateLeft()):e.active===e.total&&(e.active=0,e.updateLeft())}),t.find(".cbp-slider-prev").on("click.cbp",function(t){t.preventDefault(),0<e.active?(e.active--,e.updateLeft()):0===e.active&&(e.active=e.total,e.updateLeft())}))}s.prototype.updateLeft=function(){var t=this;t.items.removeClass("cbp-slider-item--active"),t.items.eq(t.active).addClass("cbp-slider-item--active"),t.items.each(function(e,i){i.style.left=e-t.active+"00%"})},r.prototype.runInit=function(){var e=this;e.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each(function(i,n){var o=t(n),a=o.find(".cbp-slider-item--active").find("img")[0];a.hasAttribute("data-cbp-src")?e.parent.$obj.on("lazyLoad.cbp",function(t,e){e.src===a.src&&new s(o)}):new s(o)})},r.prototype.destroy=function(){this.parent.$obj.find(".cbp-slider-next").off("click.cbp"),this.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),this.parent.$obj.off("lazyLoad.cbp"),this.parent.$obj.find(".cbp-slider-inline").each(function(e,i){var n=t(i);n.removeClass("cbp-slider-inline-ready");var o=n.find(".cbp-slider-item");o.removeClass("cbp-slider-item--active"),o.removeAttr("style"),o.eq(0).addClass("cbp-slider-item--active")})},a.plugins.inlineSlider=function(t){return new r(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o={loadingClass:"cbp-lazyload",threshold:400},a=t.fn.cubeportfolio.constructor,r=t(e);function s(e){var i=this;i.parent=e,i.options=t.extend({},o,i.parent.options.plugins.lazyLoad),e.registerEvent("initFinish",function(){i.loadImages(),e.registerEvent("resizeMainContainer",function(){i.loadImages()}),e.registerEvent("filterFinish",function(){i.loadImages()}),a.private.lazyLoadScroll.initEvent({instance:i,fn:i.loadImages})},!0)}a.private.lazyLoadScroll=new a.private.publicEvents("scroll.cbplazyLoad",50),s.prototype.loadImages=function(){var e=this,i=e.parent.$obj.find("img").filter("[data-cbp-src]");0!==i.length&&(e.screenHeight=r.height(),i.each(function(i,n){var o=t(n.parentNode);if(e.isElementInScreen(n)){var a=n.getAttribute("data-cbp-src");null===e.parent.checkSrc(t("<img>").attr("src",a))?(e.removeLazyLoad(n,a),o.removeClass(e.options.loadingClass)):(o.addClass(e.options.loadingClass),t("<img>").on("load.cbp error.cbp",function(){e.removeLazyLoad(n,a,o)}).attr("src",a))}else o.addClass(e.options.loadingClass)}))},s.prototype.removeLazyLoad=function(e,i,n){var o=this;e.src=i,e.removeAttribute("data-cbp-src"),o.parent.removeAttrImage(e),o.parent.$obj.trigger("lazyLoad.cbp",e),n&&(a.private.modernBrowser?t(e).one(a.private.transitionend,function(){n.removeClass(o.options.loadingClass)}):n.removeClass(o.options.loadingClass))},s.prototype.isElementInScreen=function(t){var e=t.getBoundingClientRect(),i=e.bottom+this.options.threshold,n=this.screenHeight+i-(e.top-this.options.threshold);return 0<=i&&i<=n},s.prototype.destroy=function(){a.private.lazyLoadScroll.destroyEvent(this)},a.plugins.lazyLoad=function(t){return new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o={element:"",action:"click",loadItems:3},a=t.fn.cubeportfolio.constructor;function r(e){var i=this;i.parent=e,i.options=t.extend({},o,i.parent.options.plugins.loadMore),i.loadMore=t(i.options.element).find(".cbp-l-loadMore-link"),0!==i.loadMore.length&&(i.loadItems=i.loadMore.find(".cbp-l-loadMore-loadItems"),"0"===i.loadItems.text()&&i.loadMore.addClass("cbp-l-loadMore-stop"),e.registerEvent("filterStart",function(t){i.populateItems().then(function(){var e=i.items.filter(i.parent.filterConcat(t)).length;0<e?(i.loadMore.removeClass("cbp-l-loadMore-stop"),i.loadItems.html(e)):i.loadMore.addClass("cbp-l-loadMore-stop")})}),i[i.options.action]())}r.prototype.populateItems=function(){var e=this;return e.items?t.Deferred().resolve():(e.items=t(),t.ajax({url:e.loadMore.attr("href"),type:"GET",dataType:"HTML"}).done(function(i){var n=t.map(i.split(/\r?\n/),function(e,i){return t.trim(e)}).join("");0!==n.length&&t.each(t.parseHTML(n),function(i,n){t(n).hasClass("cbp-item")?e.items=e.items.add(n):t.each(n.children,function(i,n){t(n).hasClass("cbp-item")&&(e.items=e.items.add(n))})})}).fail(function(){e.items=null,e.loadMore.removeClass("cbp-l-loadMore-loading")}))},r.prototype.populateInsertItems=function(e){var i=this,n=[],o=i.parent.defaultFilter,a=0;i.items.each(function(e,r){if(a===i.options.loadItems)return!1;o&&"*"!==o?t(r).filter(i.parent.filterConcat(o)).length&&(n.push(r),i.items[e]=null,a++):(n.push(r),i.items[e]=null,a++)}),i.items=i.items.map(function(t,e){return e}),0!==n.length?i.parent.$obj.cubeportfolio("append",n,e):i.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop")},r.prototype.click=function(){var t=this;function e(){t.loadMore.removeClass("cbp-l-loadMore-loading");var e,i=t.parent.defaultFilter;0===(e=i&&"*"!==i?t.items.filter(t.parent.filterConcat(i)).length:t.items.length)?t.loadMore.addClass("cbp-l-loadMore-stop"):t.loadItems.html(e)}t.loadMore.on("click.cbp",function(i){i.preventDefault(),t.parent.isAnimating||t.loadMore.hasClass("cbp-l-loadMore-stop")||(t.loadMore.addClass("cbp-l-loadMore-loading"),t.populateItems().then(function(){t.populateInsertItems(e)}))})},r.prototype.auto=function(){var i=this,n=t(e),o=!1;function r(){if(!o&&!i.loadMore.hasClass("cbp-l-loadMore-stop")){var t=i.loadMore.offset().top-200;n.scrollTop()+n.height()<t||(o=!0,i.populateItems().then(function(){i.populateInsertItems(s)}).fail(function(){o=!1}))}}function s(){var t,e=i.parent.defaultFilter;0===(t=e&&"*"!==e?i.items.filter(i.parent.filterConcat(e)).length:i.items.length)?i.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop"):(i.loadItems.html(t),n.trigger("scroll.loadMore")),o=!1,0===i.items.length&&(a.private.loadMoreScroll.destroyEvent(i),i.parent.$obj.off("filterComplete.cbp"))}a.private.loadMoreScroll=new a.private.publicEvents("scroll.loadMore",100),i.parent.$obj.one("initComplete.cbp",function(){i.loadMore.addClass("cbp-l-loadMore-loading").on("click.cbp",function(t){t.preventDefault()}),a.private.loadMoreScroll.initEvent({instance:i,fn:function(){i.parent.isAnimating||r()}}),i.parent.$obj.on("filterComplete.cbp",function(){r()}),r()})},r.prototype.destroy=function(){this.loadMore.off(".cbp"),a.private.loadMoreScroll&&a.private.loadMoreScroll.destroyEvent(this)},a.plugins.loadMore=function(t){var e=t.options.plugins;return t.options.loadMore&&(e.loadMore||(e.loadMore={}),e.loadMore.element=t.options.loadMore),t.options.loadMoreAction&&(e.loadMore||(e.loadMore={}),e.loadMore.action=t.options.loadMoreAction),e.loadMore&&void 0!==e.loadMore.selector&&(e.loadMore.element=e.loadMore.selector,delete e.loadMore.selector),e.loadMore&&e.loadMore.element?new r(t):null}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor,a={delay:0},r={init:function(e,n){var o,r=this;if(r.cubeportfolio=e,r.type=n,r.isOpen=!1,r.options=r.cubeportfolio.options,"lightbox"===n&&(r.cubeportfolio.registerEvent("resizeWindow",function(){r.resizeImage()}),r.localOptions=t.extend({},a,r.cubeportfolio.options.plugins.lightbox)),"singlePageInline"!==n){if(r.createMarkup(),"singlePage"===n){if(r.cubeportfolio.registerEvent("resizeWindow",function(){if(r.options.singlePageStickyNavigation){var t=r.contentWrap[0].clientWidth;0<t&&(r.navigationWrap.width(t),r.navigation.width(t))}}),r.options.singlePageDeeplinking){if(r.url=location.href,"#"===r.url.slice(-1)&&(r.url=r.url.slice(0,-1)),d=(u=r.url.split("#cbp=")).shift(),t.each(u,function(e,i){if(r.cubeportfolio.blocksOn.each(function(e,n){var a=t(n).find(r.options.singlePageDelegate+'[href="'+i+'"]');if(a.length)return o=a,!1}),o)return!1}),o){r.url=d;var s=o,l=s.attr("data-cbp-singlePage"),p=[];l?p=s.closest(t(".cbp-item")).find('[data-cbp-singlePage="'+l+'"]'):r.cubeportfolio.blocksOn.each(function(e,i){var n=t(i);n.not(".cbp-item-off")&&n.find(r.options.singlePageDelegate).each(function(e,i){t(i).attr("data-cbp-singlePage")||p.push(i)})}),r.openSinglePage(p,o[0])}else if(u.length){var c=i.createElement("a");c.setAttribute("href",u[0]),r.openSinglePage([c],c)}}r.localOptions=t.extend({},a,r.cubeportfolio.options.plugins.singlePage)}}else{if(r.height=0,r.createMarkupSinglePageInline(),r.cubeportfolio.registerEvent("resizeGrid",function(){r.isOpen&&r.close()}),r.options.singlePageInlineDeeplinking){r.url=location.href,"#"===r.url.slice(-1)&&(r.url=r.url.slice(0,-1));var u,d=(u=r.url.split("#cbpi=")).shift();t.each(u,function(e,i){if(r.cubeportfolio.blocksOn.each(function(e,n){var a=t(n).find(r.options.singlePageInlineDelegate+'[href="'+i+'"]');if(a.length)return o=a,!1}),o)return!1}),o&&r.cubeportfolio.registerEvent("initFinish",function(){r.openSinglePageInline(r.cubeportfolio.blocksOn,o[0])},!0)}r.localOptions=t.extend({},a,r.cubeportfolio.options.plugins.singlePageInline)}},createMarkup:function(){var n=this,a="";if("singlePage"===n.type&&"left"!==n.options.singlePageAnimation&&(a=" cbp-popup-singlePage-"+n.options.singlePageAnimation),n.wrap=t("<div/>",{class:"cbp-popup-wrap cbp-popup-"+n.type+a,"data-action":"lightbox"===n.type?"close":""}).on("click.cbp",function(e){if(!n.stopEvents){var i=t(e.target).attr("data-action");n[i]&&(n[i](),e.preventDefault())}}),"singlePage"===n.type?(n.contentWrap=t("<div/>",{class:"cbp-popup-content-wrap"}).appendTo(n.wrap),"ios"===o.private.browser&&n.contentWrap.css("overflow","auto"),n.content=t("<div/>",{class:"cbp-popup-content"}).appendTo(n.contentWrap)):n.content=t("<div/>",{class:"cbp-popup-content"}).appendTo(n.wrap),t("<div/>",{class:"cbp-popup-loadingBox"}).appendTo(n.wrap),"ie8"===o.private.browser&&(n.bg=t("<div/>",{class:"cbp-popup-ie8bg","data-action":"lightbox"===n.type?"close":""}).appendTo(n.wrap)),"singlePage"===n.type&&!1===n.options.singlePageStickyNavigation?n.navigationWrap=t("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(n.contentWrap):n.navigationWrap=t("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(n.wrap),n.navigation=t("<div/>",{class:"cbp-popup-navigation"}).appendTo(n.navigationWrap),n.closeButton=t("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(n.navigation),n.nextButton=t("<div/>",{class:"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(n.navigation),n.prevButton=t("<div/>",{class:"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(n.navigation),"singlePage"===n.type){n.options.singlePageCounter&&(n.counter=t(n.options.singlePageCounter).appendTo(n.navigation),n.counter.text("")),n.content.on("click.cbp",n.options.singlePageDelegate,function(t){t.preventDefault();var e,o,a=n.dataArray.length,r=this.getAttribute("href");for(e=0;e<a;e++)if(n.dataArray[e].url===r){o=e;break}if(void 0===o){var s=i.createElement("a");s.setAttribute("href",r),n.dataArray=[{url:r,element:s}],n.counterTotal=1,n.nextButton.hide(),n.prevButton.hide(),n.singlePageJumpTo(0)}else n.singlePageJumpTo(o-n.current)});var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r={passive:!0}}});e.addEventListener("testPassive",null,s),e.removeEventListener("testPassive",null,s)}catch(p){}var c="onwheel"in i.createElement("div")?"wheel":"mousewheel";n.contentWrap[0].addEventListener(c,function(t){t.stopImmediatePropagation()},r)}t(i).on("keydown.cbp",function(t){n.isOpen&&(n.stopEvents||(l&&t.stopImmediatePropagation(),37===t.keyCode?n.prev():39===t.keyCode?n.next():27===t.keyCode&&n.close()))})},createMarkupSinglePageInline:function(){var e=this;e.wrap=t("<div/>",{class:"cbp-popup-singlePageInline"}).on("click.cbp",function(i){if(!e.stopEvents){var n=t(i.target).attr("data-action");n&&e[n]&&(e[n](),i.preventDefault())}}),e.content=t("<div/>",{class:"cbp-popup-content"}).appendTo(e.wrap),e.navigation=t("<div/>",{class:"cbp-popup-navigation"}).appendTo(e.wrap),e.closeButton=t("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(e.navigation)},destroy:function(){var e=t("body");t(i).off("keydown.cbp"),e.off("click.cbp",this.options.lightboxDelegate),e.off("click.cbp",this.options.singlePageDelegate),this.content.off("click.cbp",this.options.singlePageDelegate),this.cubeportfolio.$obj.off("click.cbp",this.options.singlePageInlineDelegate),this.cubeportfolio.$obj.off("click.cbp",this.options.lightboxDelegate),this.cubeportfolio.$obj.off("click.cbp",this.options.singlePageDelegate),this.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),this.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),this.wrap.remove()},openLightbox:function(n,o){var a,r,s=this,p=0,c=[];if(!s.isOpen){if(l=!0,s.isOpen=!0,s.stopEvents=!1,s.dataArray=[],(s.current=null)===(a=o.getAttribute("href")))throw Error("HEI! Your clicked element doesn't have a href attribute.");t.each(n,function(e,i){var n,o=i.getAttribute("href"),r=o,l="isImage";if(-1===t.inArray(o,c)){if(a===o)s.current=p;else if(!s.options.lightboxGallery)return;if(/youtu\.?be/i.test(o)){var u=o.lastIndexOf("v=")+2;1===u&&(u=o.lastIndexOf("/")+1),n=o.substring(u),/autoplay=/i.test(n)||(n+="&autoplay=1"),r="//www.youtube.com/embed/"+(n=n.replace(/\?|&/,"?")),l="isYoutube"}else/vimeo\.com/i.test(o)?(n=o.substring(o.lastIndexOf("/")+1),/autoplay=/i.test(n)||(n+="&autoplay=1"),r="//player.vimeo.com/video/"+(n=n.replace(/\?|&/,"?")),l="isVimeo"):/www\.ted\.com/i.test(o)?(r="http://embed.ted.com/talks/"+o.substring(o.lastIndexOf("/")+1)+".html",l="isTed"):/soundcloud\.com/i.test(o)?(r=o,l="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(o)?(r=-1!==o.indexOf("|")?o.split("|"):o.split("%7C"),l="isSelfHostedVideo"):/\.mp3$/i.test(o)&&(r=o,l="isSelfHostedAudio");s.dataArray.push({src:r,title:i.getAttribute(s.options.lightboxTitleSrc),type:l}),p++}c.push(o)}),s.counterTotal=s.dataArray.length,1===s.counterTotal?(s.nextButton.hide(),s.prevButton.hide(),s.dataActionImg=""):(s.nextButton.show(),s.prevButton.show(),s.dataActionImg='data-action="next"'),s.wrap.appendTo(i.body),s.scrollTop=t(e).scrollTop(),s.originalStyle=t("html").attr("style"),t("html").css({overflow:"hidden",marginRight:e.innerWidth-t(i).width()}),s.wrap.addClass("cbp-popup-transitionend"),s.wrap.show(),s[(r=s.dataArray[s.current]).type](r)}},openSinglePage:function(n,a){var r,s=this,l=0,p=[];if(!s.isOpen){if(s.cubeportfolio.singlePageInline&&s.cubeportfolio.singlePageInline.isOpen&&s.cubeportfolio.singlePageInline.close(),s.isOpen=!0,s.stopEvents=!1,s.dataArray=[],(s.current=null)===(r=a.getAttribute("href")))throw Error("HEI! Your clicked element doesn't have a href attribute.");if(t.each(n,function(e,i){var n=i.getAttribute("href");-1===t.inArray(n,p)&&(r===n&&(s.current=l),s.dataArray.push({url:n,element:i}),l++),p.push(n)}),s.counterTotal=s.dataArray.length,1===s.counterTotal?(s.nextButton.hide(),s.prevButton.hide()):(s.nextButton.show(),s.prevButton.show()),s.wrap.appendTo(i.body),s.scrollTop=t(e).scrollTop(),s.contentWrap.scrollTop(0),s.wrap.show(),s.finishOpen=2,s.navigationMobile=t(),s.wrap.one(o.private.transitionend,function(){t("html").css({overflow:"hidden",marginRight:e.innerWidth-t(i).width()}),s.wrap.addClass("cbp-popup-transitionend"),s.options.singlePageStickyNavigation&&(s.wrap.addClass("cbp-popup-singlePage-sticky"),s.navigationWrap.width(s.contentWrap[0].clientWidth)),s.finishOpen--,s.finishOpen<=0&&s.updateSinglePageIsOpen.call(s)}),"ie8"!==o.private.browser&&"ie9"!==o.private.browser||(t("html").css({overflow:"hidden",marginRight:e.innerWidth-t(i).width()}),s.wrap.addClass("cbp-popup-transitionend"),s.options.singlePageStickyNavigation&&(s.navigationWrap.width(s.contentWrap[0].clientWidth),setTimeout(function(){s.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)),s.finishOpen--),s.wrap.addClass("cbp-popup-loading"),s.wrap.offset(),s.wrap.addClass("cbp-popup-singlePage-open"),s.options.singlePageDeeplinking&&(s.url=s.url.split("#cbp=")[0],location.href=s.url+"#cbp="+s.dataArray[s.current].url),t.isFunction(s.options.singlePageCallback)&&s.options.singlePageCallback.call(s,s.dataArray[s.current].url,s.dataArray[s.current].element),"ios"===o.private.browser){var c=s.contentWrap[0];c.addEventListener("touchstart",function(){var t=c.scrollTop,e=c.scrollHeight,i=t+c.offsetHeight;0===t?c.scrollTop=1:i===e&&(c.scrollTop=t-1)})}}},openSinglePageInline:function(i,n,o){var a,r,s,l=this;if(o=o||!1,l.fromOpen=o,l.storeBlocks=i,l.storeCurrentBlock=n,l.isOpen)return r=l.cubeportfolio.blocksOn.index(t(n).closest(".cbp-item")),void(l.dataArray[l.current].url!==n.getAttribute("href")||l.current!==r?l.cubeportfolio.singlePageInline.close("open",{blocks:i,currentBlock:n,fromOpen:!0}):l.close());if(l.isOpen=!0,l.stopEvents=!1,l.dataArray=[],(l.current=null)===(a=n.getAttribute("href")))throw Error("HEI! Your clicked element doesn't have a href attribute.");if(s=t(n).closest(".cbp-item")[0],i.each(function(t,e){s===e&&(l.current=t)}),l.dataArray[l.current]={url:a,element:n},t(l.dataArray[l.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),l.counterTotal=i.length,l.wrap.insertBefore(l.cubeportfolio.wrapper),l.topDifference=0,"top"===l.options.singlePageInlinePosition)l.blocksToMove=i,l.top=0;else if("bottom"===l.options.singlePageInlinePosition)l.blocksToMove=t(),l.top=l.cubeportfolio.height;else if("above"===l.options.singlePageInlinePosition){var p=t(i[l.current]).data("cbp").top;l.top=p,i.each(function(e,i){var n=t(i).data("cbp"),o=n.top,a=o+n.heightAndGap;p<=o||a>l.top&&(l.top=a,l.topDifference=l.top-p)}),l.blocksToMove=t(),i.each(function(e,i){if(e!==l.current){var n=t(i).data("cbp");n.top+n.heightAndGap>l.top&&(l.blocksToMove=l.blocksToMove.add(i))}else l.blocksToMove=l.blocksToMove.add(i)}),l.top=Math.max(l.top-l.options.gapHorizontal,0)}else{var c=t(i[l.current]).data("cbp"),u=c.top+c.heightAndGap;l.top=u,l.blocksToMove=t(),i.each(function(e,i){var n=t(i).data("cbp"),o=n.top,a=o+n.height;a<=u||(o>=u-n.height/2?l.blocksToMove=l.blocksToMove.add(i):u<a&&o<u&&(a>l.top&&(l.top=a),a-u>l.topDifference&&(l.topDifference=a-u)))})}if(l.wrap[0].style.height=l.wrap.outerHeight(!0)+"px",l.deferredInline=t.Deferred(),l.options.singlePageInlineInFocus){l.scrollTop=t(e).scrollTop();var d=l.cubeportfolio.$obj.offset().top+l.top-100;l.scrollTop!==d?t("html,body").animate({scrollTop:d},350).promise().then(function(){l.resizeSinglePageInline(),l.deferredInline.resolve()}):(l.resizeSinglePageInline(),l.deferredInline.resolve())}else l.resizeSinglePageInline(),l.deferredInline.resolve();l.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),l.wrap.css({top:l.top}),l.options.singlePageInlineDeeplinking&&(l.url=l.url.split("#cbpi=")[0],location.href=l.url+"#cbpi="+l.dataArray[l.current].url),t.isFunction(l.options.singlePageInlineCallback)&&l.options.singlePageInlineCallback.call(l,l.dataArray[l.current].url,l.dataArray[l.current].element)},resizeSinglePageInline:function(){var t=this;t.height=0===t.top||t.top===t.cubeportfolio.height?t.wrap.outerHeight(!0):t.wrap.outerHeight(!0)-t.options.gapHorizontal,t.height+=t.topDifference,t.storeBlocks.each(function(t,e){o.private.modernBrowser?e.style[o.private.transform]="":e.style.marginTop=""}),t.blocksToMove.each(function(e,i){o.private.modernBrowser?i.style[o.private.transform]="translate3d(0px, "+t.height+"px, 0)":i.style.marginTop=t.height+"px"}),t.cubeportfolio.obj.style.height=t.cubeportfolio.height+t.height+"px"},revertResizeSinglePageInline:function(){this.deferredInline=t.Deferred(),this.storeBlocks.each(function(t,e){o.private.modernBrowser?e.style[o.private.transform]="":e.style.marginTop=""}),this.cubeportfolio.obj.style.height=this.cubeportfolio.height+"px"},appendScriptsToWrap:function(t){var e=this,n=0,o=function(a){var r=i.createElement("script"),s=a.src;r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t[++n]&&o(t[n]))}:r.onload=function(){t[++n]&&o(t[n])},s?r.src=s:r.text=a.text,e.content[0].appendChild(r)};o(t[0])},updateSinglePage:function(e,i,n){var o,a=this;a.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),!1===n&&a.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),a.counter&&(o=t(a.getCounterMarkup(a.options.singlePageCounter,a.current+1,a.counterTotal)),a.counter.text(o.text())),a.fromAJAX={html:e,scripts:i},a.finishOpen--,a.finishOpen<=0&&a.updateSinglePageIsOpen.call(a)},updateSinglePageIsOpen:function(){var t,e=this;e.wrap.addClass("cbp-popup-ready"),e.wrap.removeClass("cbp-popup-loading"),e.content.html(e.fromAJAX.html),e.fromAJAX.scripts&&e.appendScriptsToWrap(e.fromAJAX.scripts),e.fromAJAX={},e.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),(t=e.content.find(".cbp-slider")).length?(t.find(".cbp-slider-item").addClass("cbp-item"),e.slider=t.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):e.slider=null,e.checkForSocialLinks(e.content),e.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(t){this.createFacebookShare(t.find(".cbp-social-fb")),this.createTwitterShare(t.find(".cbp-social-twitter")),this.createGooglePlusShare(t.find(".cbp-social-googleplus")),this.createPinterestShare(t.find(".cbp-social-pinterest"))},createFacebookShare:function(t){t.length&&!t.attr("onclick")&&t.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(e.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(t){t.length&&!t.attr("onclick")&&t.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(e.location.href)+"&text="+encodeURIComponent(i.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(t){t.length&&!t.attr("onclick")&&t.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(e.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(t){if(t.length&&!t.attr("onclick")){var i="",n=this.content.find("img")[0];n&&(i=n.src),t.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(e.location.href)+"&media="+i+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")}},updateSinglePageInline:function(t,e){var i=this;i.content.html(t),e&&i.appendScriptsToWrap(e),i.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),0!==i.localOptions.delay?setTimeout(function(){i.singlePageInlineIsOpen.call(i)},i.localOptions.delay):i.singlePageInlineIsOpen.call(i)},singlePageInlineIsOpen:function(){var t=this;function e(){t.wrap.addClass("cbp-popup-singlePageInline-ready"),t.wrap[0].style.height="",t.resizeSinglePageInline(),t.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}t.cubeportfolio.loadImages(t.wrap,function(){var i=t.content.find(".cbp-slider");i.length?(i.find(".cbp-slider-item").addClass("cbp-item"),i.one("initComplete.cbp",function(){t.deferredInline.done(e)}),i.on("pluginResize.cbp",function(){t.deferredInline.done(e)}),t.slider=i.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(t.slider=null,t.deferredInline.done(e)),t.checkForSocialLinks(t.content)})},isImage:function(e){var i=this;new Image,i.tooggleLoading(!0),i.cubeportfolio.loadImages(t('<div><img src="'+e.src+'"></div>'),function(){i.updateImagesMarkup(e.src,e.title,i.getCounterMarkup(i.options.lightboxCounter,i.current+1,i.counterTotal)),i.tooggleLoading(!1)})},isVimeo:function(t){this.updateVideoMarkup(t.src,t.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isYoutube:function(t){this.updateVideoMarkup(t.src,t.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isTed:function(t){this.updateVideoMarkup(t.src,t.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isSoundCloud:function(t){this.updateVideoMarkup(t.src,t.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isSelfHostedVideo:function(t){this.updateSelfHostedVideo(t.src,t.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isSelfHostedAudio:function(t){this.updateSelfHostedAudio(t.src,t.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},getCounterMarkup:function(t,e,i){if(!t.length)return"";var n={current:e,total:i};return t.replace(/\{\{current}}|\{\{total}}/gi,function(t){return n[t.slice(2,-2)]})},updateSelfHostedVideo:function(t,e,i){this.wrap.addClass("cbp-popup-lightbox-isIframe");var n,o='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(n=0;n<t.length;n++)/(\.mp4)/i.test(t[n])?o+='<source src="'+t[n]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(t[n])?o+='<source src="'+t[n]+'" type="video/ogg">':/(\.webm)/i.test(t[n])&&(o+='<source src="'+t[n]+'" type="video/webm">');o+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+i+"</div></div>",this.content.html(o),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateSelfHostedAudio:function(t,e,i){this.wrap.addClass("cbp-popup-lightbox-isIframe"),this.content.html('<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+t+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+i+"</div></div>"),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateVideoMarkup:function(t,e,i){this.wrap.addClass("cbp-popup-lightbox-isIframe"),this.content.html('<div class="cbp-popup-lightbox-iframe"><iframe src="'+t+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+i+"</div></div>"),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateImagesMarkup:function(t,e,i){this.wrap.removeClass("cbp-popup-lightbox-isIframe");var n='<div class="cbp-popup-lightbox-figure"><img src="'+t+'" class="cbp-popup-lightbox-img" '+this.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+i+"</div></div>";this.content.html(n),this.wrap.addClass("cbp-popup-ready"),this.resizeImage(),this.preloadNearbyImages()},next:function(){this[this.type+"JumpTo"](1)},prev:function(){this[this.type+"JumpTo"](-1)},lightboxJumpTo:function(t){var e,i=this;i.current=i.getIndex(i.current+t),i[(e=i.dataArray[i.current]).type](e)},singlePageJumpTo:function(e){var i=this;i.current=i.getIndex(i.current+e),t.isFunction(i.options.singlePageCallback)&&(i.resetWrap(),i.contentWrap.scrollTop(0),i.wrap.addClass("cbp-popup-loading"),i.slider&&o.private.resize.destroyEvent(t.data(i.slider[0],"cubeportfolio")),i.options.singlePageCallback.call(i,i.dataArray[i.current].url,i.dataArray[i.current].element),i.options.singlePageDeeplinking&&(location.href=i.url+"#cbp="+i.dataArray[i.current].url))},resetWrap:function(){"singlePage"===this.type&&this.options.singlePageDeeplinking&&(location.href=this.url+"#"),"singlePageInline"===this.type&&this.options.singlePageInlineDeeplinking&&(location.href=this.url+"#")},getIndex:function(t){return(t%=this.counterTotal)<0&&(t=this.counterTotal+t),t},close:function(i,n){var a=this;function r(){a.slider&&o.private.resize.destroyEvent(t.data(a.slider[0],"cubeportfolio")),a.content.html(""),a.wrap.detach(),a.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),a.isOpen=!1,"promise"===i&&t.isFunction(n.callback)&&n.callback.call(a.cubeportfolio)}function s(){var n=t(e).scrollTop();a.resetWrap(),t(e).scrollTop(n),a.options.singlePageInlineInFocus&&"promise"!==i?t("html,body").animate({scrollTop:a.scrollTop},350).promise().then(function(){r()}):r()}"singlePageInline"===a.type?"open"===i?(a.wrap.removeClass("cbp-popup-singlePageInline-ready"),t(a.dataArray[a.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),a.isOpen=!1,a.openSinglePageInline(n.blocks,n.currentBlock,n.fromOpen)):(a.height=0,a.revertResizeSinglePageInline(),a.wrap.removeClass("cbp-popup-singlePageInline-ready"),a.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),a.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),o.private.modernBrowser?a.wrap.one(o.private.transitionend,function(){s()}):s()):"singlePage"===a.type?(a.resetWrap(),a.stopScroll=!0,a.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),t("html").css({overflow:"",marginRight:"",position:""}),t(e).scrollTop(a.scrollTop),"ie8"!==o.private.browser&&"ie9"!==o.private.browser||(a.slider&&o.private.resize.destroyEvent(t.data(a.slider[0],"cubeportfolio")),a.content.html(""),a.wrap.detach(),a.isOpen=!1),a.wrap.one(o.private.transitionend,function(){a.slider&&o.private.resize.destroyEvent(t.data(a.slider[0],"cubeportfolio")),a.content.html(""),a.wrap.detach(),a.isOpen=!1})):(l=!1,a.originalStyle?t("html").attr("style",a.originalStyle):t("html").css({overflow:"",marginRight:""}),t(e).scrollTop(a.scrollTop),a.slider&&o.private.resize.destroyEvent(t.data(a.slider[0],"cubeportfolio")),a.content.html(""),a.wrap.detach(),a.isOpen=!1)},tooggleLoading:function(t){this.stopEvents=t,this.wrap[t?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var i=this.content.find("img"),n=i.parent(),o=t(e).height()-(n.outerHeight(!0)-n.height())-this.content.find(".cbp-popup-lightbox-bottom").outerHeight(!0);i.css("max-height",o+"px")}},preloadNearbyImages:function(){for(var t=[this.getIndex(this.current+1),this.getIndex(this.current+2),this.getIndex(this.current+3),this.getIndex(this.current-1),this.getIndex(this.current-2),this.getIndex(this.current-3)],e=t.length-1;0<=e;e--)"isImage"===this.dataArray[t[e]].type&&this.cubeportfolio.checkSrc(this.dataArray[t[e]])}};function s(t){var e=this;!1===(e.parent=t).options.lightboxShowCounter&&(t.options.lightboxCounter=""),!1===t.options.singlePageShowCounter&&(t.options.singlePageCounter=""),t.registerEvent("initStartRead",function(){e.run()},!0)}var l=!1,p=!1,c=!1;s.prototype.run=function(){var e=this,n=e.parent,o=t(i.body);n.lightbox=null,n.options.lightboxDelegate&&!p&&(p=!0,n.lightbox=Object.create(r),n.lightbox.init(n,"lightbox"),o.on("click.cbp",n.options.lightboxDelegate,function(i){i.preventDefault();var o=t(this),a=o.attr("data-cbp-lightbox"),r=e.detectScope(o),s=r.data("cubeportfolio"),l=[];s?s.blocksOn.each(function(e,i){var o=t(i);o.not(".cbp-item-off")&&o.find(n.options.lightboxDelegate).each(function(e,i){a?t(i).attr("data-cbp-lightbox")===a&&l.push(i):l.push(i)})}):l=a?r.find(n.options.lightboxDelegate+"[data-cbp-lightbox="+a+"]"):r.find(n.options.lightboxDelegate),n.lightbox.openLightbox(l,o[0])})),n.singlePage=null,n.options.singlePageDelegate&&!c&&(c=!0,n.singlePage=Object.create(r),n.singlePage.init(n,"singlePage"),o.on("click.cbp",n.options.singlePageDelegate,function(i){i.preventDefault();var o=t(this),a=o.attr("data-cbp-singlePage"),r=e.detectScope(o),s=r.data("cubeportfolio"),l=[];s?s.blocksOn.each(function(e,i){var o=t(i);o.not(".cbp-item-off")&&o.find(n.options.singlePageDelegate).each(function(e,i){a?t(i).attr("data-cbp-singlePage")===a&&l.push(i):l.push(i)})}):l=a?r.find(n.options.singlePageDelegate+"[data-cbp-singlePage="+a+"]"):r.find(n.options.singlePageDelegate),n.singlePage.openSinglePage(l,o[0])})),n.singlePageInline=null,n.options.singlePageInlineDelegate&&(n.singlePageInline=Object.create(r),n.singlePageInline.init(n,"singlePageInline"),n.$obj.on("click.cbp",n.options.singlePageInlineDelegate,function(e){e.preventDefault();var i=t.data(this,"cbp-locked"),o=t.data(this,"cbp-locked",+new Date);(!i||300<o-i)&&n.singlePageInline.openSinglePageInline(n.blocksOn,this)}))},s.prototype.detectScope=function(e){var n,o,a;return(n=e.closest(".cbp-popup-singlePageInline")).length?(a=e.closest(".cbp",n[0])).length?a:n:(o=e.closest(".cbp-popup-singlePage")).length?(a=e.closest(".cbp",o[0])).length?a:o:(a=e.closest(".cbp")).length?a:t(i.body)},s.prototype.destroy=function(){var e=this.parent;t(i.body).off("click.cbp"),c=p=!1,e.lightbox&&e.lightbox.destroy(),e.singlePage&&e.singlePage.destroy(),e.singlePageInline&&e.singlePageInline.destroy()},o.plugins.popUp=function(t){return new s(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o=t.fn.cubeportfolio.constructor;function a(e){var i=this;i.parent=e,i.searchInput=t(e.options.search),i.searchInput.each(function(e,i){var n=i.getAttribute("data-search");n||(n="*"),t.data(i,"searchData",{value:i.value,el:n})});var n=null;i.searchInput.on("keyup.cbp paste.cbp",function(e){e.preventDefault();var o=t(this);clearTimeout(n),n=setTimeout(function(){i.runEvent.call(i,o)},350)}),i.searchNothing=i.searchInput.siblings(".cbp-search-nothing").detach(),i.searchNothingHeight=null,i.searchNothingHTML=i.searchNothing.html(),i.searchInput.siblings(".cbp-search-icon").on("click.cbp",function(e){e.preventDefault(),i.runEvent.call(i,t(this).prev().val(""))})}a.prototype.runEvent=function(e){var i=this,n=e.val(),o=e.data("searchData"),a=RegExp(n,"i");o.value===n||i.parent.isAnimating||(0<(o.value=n).length?e.attr("value",n):e.removeAttr("value"),i.parent.$obj.cubeportfolio("filter",function(e){var r=e.filter(function(e,i){if(-1<t(i).find(o.el).text().search(a))return!0});if(0===r.length&&i.searchNothing.length){var s=i.searchNothingHTML.replace("{{query}}",n);i.searchNothing.html(s),i.searchNothing.appendTo(i.parent.$obj),null===i.searchNothingHeight&&(i.searchNothingHeight=i.searchNothing.outerHeight(!0)),i.parent.registerEvent("resizeMainContainer",function(){i.parent.height=i.parent.height+i.searchNothingHeight,i.parent.obj.style.height=i.parent.height+"px"},!0)}else i.searchNothing.detach();return i.parent.triggerEvent("resetFiltersVisual"),r},function(){e.trigger("keyup.cbp")}))},a.prototype.destroy=function(){this.searchInput.off(".cbp"),this.searchInput.next(".cbp-search-icon").off(".cbp"),this.searchInput.each(function(e,i){t.removeData(i)})},o.plugins.search=function(t){return""===t.options.search?null:new a(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o={pagination:"",paginationClass:"cbp-pagination-active"},a=t.fn.cubeportfolio.constructor;function r(e){var i=this;i.parent=e,i.options=t.extend({},o,i.parent.options.plugins.slider);var n=t(i.options.pagination);0<n.length&&(i.parent.customPagination=n,i.parent.customPaginationItems=n.children(),i.parent.customPaginationClass=i.options.paginationClass,i.parent.customPaginationItems.on("click.cbp",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),i.parent.sliderStopEvents||i.parent.jumpToSlider(t(this))})),i.parent.registerEvent("gridAdjust",function(){i.sliderMarkup.call(i.parent),i.parent.registerEvent("gridAdjust",function(){i.updateSlider.call(i.parent)})},!0)}r.prototype.sliderMarkup=function(){var e=this;e.sliderStopEvents=!1,e.sliderActive=0,e.$obj.one("initComplete.cbp",function(){e.$obj.addClass("cbp-mode-slider")}),e.nav=t("<div/>",{class:"cbp-nav"}),e.nav.on("click.cbp","[data-slider-action]",function(i){if(i.preventDefault(),i.stopImmediatePropagation(),i.stopPropagation(),!e.sliderStopEvents){var n=t(this),o=n.attr("data-slider-action");e[o+"Slider"]&&e[o+"Slider"](n)}}),e.options.showNavigation&&(e.controls=t("<div/>",{class:"cbp-nav-controls"}),e.navPrev=t("<div/>",{class:"cbp-nav-prev","data-slider-action":"prev"}).appendTo(e.controls),e.navNext=t("<div/>",{class:"cbp-nav-next","data-slider-action":"next"}).appendTo(e.controls),e.controls.appendTo(e.nav)),e.options.showPagination&&(e.navPagination=t("<div/>",{class:"cbp-nav-pagination"}).appendTo(e.nav)),(e.controls||e.navPagination)&&e.nav.appendTo(e.$obj),e.updateSliderPagination(),e.options.auto&&(e.options.autoPauseOnHover&&(e.mouseIsEntered=!1,e.$obj.on("mouseenter.cbp",function(t){e.mouseIsEntered=!0,e.stopSliderAuto()}).on("mouseleave.cbp",function(t){e.mouseIsEntered=!1,e.startSliderAuto()})),e.startSliderAuto()),e.options.drag&&a.private.modernBrowser&&e.dragSlider()},r.prototype.updateSlider=function(){this.updateSliderPosition(),this.updateSliderPagination()},r.prototype.destroy=function(){this.parent.customPaginationItems&&this.parent.customPaginationItems.off(".cbp"),(this.parent.controls||this.parent.navPagination)&&(this.parent.nav.off(".cbp"),this.parent.nav.remove())},a.plugins.slider=function(t){return"slider"!==t.options.layoutMode?null:new r(t)}}(jQuery,window,document),function(t,e,i,n){"use strict";var o={element:""},a=t.fn.cubeportfolio.constructor;function r(e){var i=this;i.parent=e,i.options=t.extend({},o,i.parent.options.plugins.sort),i.element=t(i.options.element),0!==i.element.length&&(i.sort="",i.sortBy="string:asc",i.element.on("click.cbp",".cbp-sort-item",function(n){n.preventDefault(),i.target=n.target,t(i.target).hasClass("cbp-l-dropdown-item--active")||e.isAnimating||(i.processSort(),e.$obj.cubeportfolio("filter",e.defaultFilter))}),e.registerEvent("triggerSort",function(){i.target&&(i.processSort(),e.$obj.cubeportfolio("filter",e.defaultFilter))}),i.dropdownWrap=i.element.find(".cbp-l-dropdown-wrap").on({"mouseover.cbp":function(){t(this).addClass("cbp-l-dropdown-wrap--open")},"mouseleave.cbp":function(){t(this).removeClass("cbp-l-dropdown-wrap--open")}}),i.dropdownHeader=i.element.find(".cbp-l-dropdown-header"))}r.prototype.processSort=function(){var e=this,i=e.parent,n=(c=e.target).hasAttribute("data-sort"),o=c.hasAttribute("data-sortBy");if(n&&o)e.sort=c.getAttribute("data-sort"),e.sortBy=c.getAttribute("data-sortBy");else if(n)e.sort=c.getAttribute("data-sort");else{if(!o)return;e.sortBy=c.getAttribute("data-sortBy")}var a=e.sortBy.split(":"),r="string",s=1;if("int"===a[0]?r="int":"float"===a[0]&&(r="float"),"desc"===a[1]&&(s=-1),e.sort){var l=[];i.blocks.each(function(i,n){var o=t(n),a=o.find(e.sort).text();"int"===r&&(a=parseInt(a,10)),"float"===r&&(a=parseFloat(a,10)),l.push({sortText:a,data:o.data("cbp")})}),l.sort(function(t,e){var i=t.sortText,n=e.sortText;return"string"===r&&(i=i.toUpperCase(),n=n.toUpperCase()),i<n?-s:n<i?s:0}),t.each(l,function(t,e){e.data.index=t})}else{var p=[];-1===s&&(i.blocks.each(function(e,i){p.push(t(i).data("cbp").indexInitial)}),p.sort(function(t,e){return e-t})),i.blocks.each(function(e,i){var n=t(i).data("cbp");n.index=-1===s?p[n.indexInitial]:n.indexInitial})}i.sortBlocks(i.blocks,"index"),e.dropdownWrap.trigger("mouseleave.cbp");var c=t(e.target),u=t(e.target).parent();u.hasClass("cbp-l-dropdown-list")?(e.dropdownHeader.html(c.html()),c.addClass("cbp-l-dropdown-item--active").siblings(".cbp-l-dropdown-item").removeClass("cbp-l-dropdown-item--active")):u.hasClass("cbp-l-direction")&&(0===c.index()?u.addClass("cbp-l-direction--second").removeClass("cbp-l-direction--first"):u.addClass("cbp-l-direction--first").removeClass("cbp-l-direction--second"))},r.prototype.destroy=function(){this.element.off("click.cbp")},a.plugins.sort=function(t){return new r(t)}}(jQuery,window,document);